&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 在执行宏的过程中, 有时会产生意外的结果, 但是如果能遵从一些最佳的应用方式, 就能取地更好的一致性

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 当我们执行一个宏时, vim 会机械地重复这个打包在一起的按键操作序列, 如果我们不小心的话, 在回放宏时的结果会偏离我们的预期. 但也可以录制更为灵活的宏, 针对每一种情况, 它都能应对自如

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 黄金法则: 在录制一个宏时, 要确保每条命令都可以被重复执行 

---

- ##### 规范光标位置
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 一旦开始录制宏, 首先要问自己几个问题, 我在哪儿? 我从哪里来? 要到哪里区? 在你想做任何事之前, 要确保你的光标位置已经就位, 只有这样下一条命令才会做你想做的事情, 去你想去的位置. 
     
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 这意味着应该把光标移动到下一处查找匹配项(**n**) 或者当前行的行首(**0**), 又或者是当前文件的行首(**gg**). 如果每次总是从确定的位置开始执行的话, 那么命中正确目标会变得更容易

- ##### 用可重复的动作命令直达目标
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vim 有一组丰富的动作命令集, 通过它们, 可以直达文本的各各角落. 
     
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 千万别为了让光标达到目标而一直按 **l**, 请记住, vim 会机械的执行你的按键操作. **w**, **e**, **b**, 和 **ge**, 与面向字符的 **h** 和 **l** 相比更具有 **灵活性**
     
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 推荐使用 **查找命令** 定位, 或者使用 **文本对象**. 总之尽量使你的宏兼具 **灵活性** 与 **可重复性** 

- ##### 当动作命令失败时, 宏将停止执行
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vim 的命令可能会执行失败. 例如, 如果光标位于文件的首行, 运行 **k** 命令将什么也不会发生, 若光标位于文件末行, 按下 **j** 也会出现类似的情况, 出现上述情况时 vim 会发出 **哔** 的一声, 提升我们动作失败了, 当然也可以设置 '**visualbell**' 关闭提示音
     
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 如果宏执行动作命令失败了, vim 将中止执行宏的其余命令 这是一项**功能** 而不是漏洞, 可以用动作命令进行简单测试来判断是否应该在当前上下文中继续执行
     
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 可以使用 **[次数]@{宏名称}** 的方法来执行宏, 并且可以不必顾忌次数, 因为没有下一个匹配项时, 宏将中止退出, 执行 100@a, 甚至是 1000@a 的结果都是一样的
